"use strict";(()=>{var e={};e.id=101,e.ids=[101],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},8420:e=>{e.exports=import("playwright")},2879:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>u,default:()=>s,routeModule:()=>c});var i=a(1802),n=a(7153),l=a(6249),o=a(7386),d=e([o]);o=(d.then?(await d)():d)[0];let s=(0,l.l)(o,"default"),u=(0,l.l)(o,"config"),c=new i.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/video",pathname:"/api/video",bundlePath:"",filename:""},userland:o});r()}catch(e){r(e)}})},7386:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>handler});var i=a(8420),n=e([i]);async function handler(e,t){let{url:a}=e.query;if(!a||!a.includes("/video/"))return t.status(400).json({error:"Link video TikTok tidak valid"});let r=await i.chromium.launch({headless:!0}),n=await r.newPage();try{await n.goto(a,{waitUntil:"domcontentloaded"});let e=await n.evaluate(()=>{let e=[...document.querySelectorAll("script")].find(e=>e.textContent.includes("__UNIVERSAL_DATA__"));if(!e)return null;let t=e.textContent,a=t.match(/window\.__UNIVERSAL_DATA__\s*=\s*({.*});/);if(!a)return null;let r=JSON.parse(a[1]);return r?.SEOState?.itemList?.[0]||null});if(!e||!e.createTime)throw Error("Gagal ambil videoData");let r=1e3*e.createTime;return t.status(200).json({url:a,uploadDate:new Date(r).toISOString(),description:e.desc||"",thumbnail:e.cover||""})}catch(e){console.error("❌ Scraper video error:",e.message),t.status(500).json({error:"Gagal ambil video dari link"})}finally{await r.close()}}i=(n.then?(await n)():n)[0],r()}catch(e){r(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[222],()=>__webpack_exec__(2879));module.exports=a})();